"use strict";
function plus(){var e=document.getElementById("n1").value;e=parseInt(e),n=document.getElementById("n2").value;var n=e+(n=parseInt(n));document.getElementById("out").innerHTML=n}function substract(){var e=document.getElementById("n1").value;e=parseInt(e),n=document.getElementById("n2").value;var n=e-(n=parseInt(n));document.getElementById("out").innerHTML=n}function multiply(){var e=document.getElementById("n1").value;e=parseInt(e),n=document.getElementById("n2").value;var n=e*(n=parseInt(n));document.getElementById("out").innerHTML=n}function division(){var e=document.getElementById("n1").value;e=parseInt(e),n=document.getElementById("n2").value;var n=e/(n=parseInt(n));document.getElementById("out").innerHTML=n}
var input=document.querySelector(".input"),UnCalc=document.querySelector(".upstandart-calc"),openCalc=document.querySelector(".open"),power="",type=document.querySelector(".type");function insert(t){0==input.textContent&&(input.textContent=""),input.textContent+=t}function clean(){input.textContent="0",power=""}function back(){var t=input.textContent;input.textContent=t.substring(0,t.length-1),0==input.textContent&&(input.textContent="0")}function equal(){var exp=input.textContent;if(input.textContent.includes("^")){var tmp=input.textContent.split("^"),num=eval(power),pow=+tmp[1];return input.textContent=Math.pow(num,pow),void(power="")}exp&&(input.textContent=eval(exp))}function percent(){input.textContent=eval(input.textContent)/100}function constant(t){0==input.textContent&&(input.textContent="0"),"pi"==t&&(input.textContent+=Math.PI.toFixed(8)),"e"==t&&(input.textContent+=Math.E.toFixed(8))}function operation(name){"sqrt"==name&&(input.textContent=Math.sqrt(eval(input.textContent))),"pow-2"==name&&(input.textContent=Math.pow(eval(input.textContent),2)),"pow-1"==name&&(input.textContent=Math.pow(eval(input.textContent),-1)),"^"==name&&(power=input.textContent,input.textContent+="^")}function factorial(t){return 1!=t?t*factorial(t-1):1}function fact(){input.textContent=factorial(+eval(input.textContent))}function log(name){"lg"==name&&(input.textContent=Math.log10(eval(input.textContent)).toFixed(8)),"ln"==name&&(input.textContent=Math.log(eval(input.textContent)).toFixed(8))}function f(name){"sin"==name&&("deg"==type.textContent?input.textContent=parseFloat(Math.sin(eval(input.textContent)/180*Math.PI).toFixed(8).toString()):input.textContent=parseFloat(Math.sin(eval(input.textContent)).toFixed(8).toString())),"cos"==name&&("deg"==type.textContent?input.textContent=parseFloat(Math.cos(eval(input.textContent)/180*Math.PI).toFixed(8).toString()):input.textContent=parseFloat(Math.cos(eval(input.textContent)).toFixed(8).toString())),"tan"==name&&("deg"==type.textContent?input.textContent=parseFloat(Math.tan(eval(input.textContent)/180*Math.PI).toFixed(8).toString()):input.textContent=parseFloat(Math.tan(eval(input.textContent)).toFixed(8).toString())),"ctg"==name&&("deg"==type.textContent?input.textContent=parseFloat(1/Math.tan(eval(input.textContent)/180*Math.PI).toFixed(8).toString()):input.textContent=parseFloat(1/Math.tan(eval(input.textContent)).toFixed(8).toString()))}openCalc.addEventListener("click",function(){UnCalc.classList.toggle("js-upcalc-active")}),type.addEventListener("click",function(){"deg"==type.textContent?this.textContent="rad":"rad"==type.textContent&&(this.textContent="deg")});
function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var numbersButtons=document.querySelectorAll("[data-number]"),operationButtons=document.querySelectorAll("[data-operation]"),equalsButton=document.querySelector("[data-equals]"),deleteButton=document.querySelector("[data-delete]"),allClearButton=document.querySelector("[data-all-clear]"),prevOperandtext=document.querySelector("[data-previous-operand"),currOperandtext=document.querySelector("[data-current-operand]"),Calculator=function(){function r(e,t){_classCallCheck(this,r),this.prevOperandtext=e,this.currOperandtext=t,this.clear()}return _createClass(r,[{key:"clear",value:function(){this.currentOperand="",this.previousOperand="",this.operation=void 0}},{key:"delete",value:function(){this.currentOperand=this.currentOperand.toString().slice(0,-1)}},{key:"append",value:function(e){"."===e&&this.currentOperand.includes(".")||(this.currentOperand=this.currentOperand.toString()+e.toString())}},{key:"choise",value:function(e){""!==this.currentOperand&&(""!==this.previousOperand&&this.compute(),this.operation=e,this.previousOperand=this.currentOperand,this.currentOperand="")}},{key:"compute",value:function(){var e,t=parseFloat(this.previousOperand),r=parseFloat(this.currentOperand);if(!isNaN(t)&&!isNaN(r)){switch(this.operation){case"+":e=t+r;break;case"-":e=t-r;break;case"*":e=t*r;break;case"/":e=t/r;break;default:return}this.currentOperand=e,this.operation=void 0,this.previousOperand=""}}},{key:"getDisplayNumber",value:function(e){var t=e.toString(),e=parseFloat(t.split(".")[0]),t=t.split(".")[1],e=isNaN(e)?"":e.toLocaleString("en",{maximumFractionDigits:0});return null!=t?"".concat(e,".").concat(t):e}},{key:"updateDisplay",value:function(){this.currOperandtext.innerText=this.getDisplayNumber(this.currentOperand),null!=this.operation?this.prevOperandtext.innerText="".concat(this.getDisplayNumber(this.previousOperand)," ").concat(this.operation):this.prevOperandtext.innerText=""}}]),r}(),calculator=new Calculator(prevOperandtext,currOperandtext);numbersButtons.forEach(function(e){e.addEventListener("click",function(){calculator.append(e.innerText),calculator.updateDisplay()})}),operationButtons.forEach(function(e){e.addEventListener("click",function(){calculator.choise(e.innerText),calculator.updateDisplay()})}),equalsButton.addEventListener("click",function(e){calculator.compute(),calculator.updateDisplay()}),allClearButton.addEventListener("click",function(e){calculator.clear(),calculator.updateDisplay()}),deleteButton.addEventListener("click",function(e){calculator.delete(),calculator.updateDisplay()});
function fun1(){console.log(1)}
function fun3(){console.log(4)}

$(document).ready(function(){$(".js-tabs-header").click(function(){var a=$(this).attr("data-tab"),a=$('.js-tabs-body[data-tab="'+a+'"]');$(".js-tabs-header.active").removeClass("active"),$(this).addClass("active"),$(".js-tabs-body.active").removeClass("active"),a.addClass("active")}),$(".js-tabs-calc-header").click(function(){var a=$(this).attr("data-tab"),a=$('.js-tabs-calc-body[data-tab="'+a+'"]');$(".js-tabs-calc-header.active").removeClass("active"),$(this).addClass("active"),$(".js-tabs-calc-body.active").removeClass("active"),a.addClass("active")})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJjYWxjdWxhdGUvY2FsY3VsYXRlT25lLmpzIiwiY2FsY3VsYXRlL2NhbGN1bGF0ZVRocmVlLmpzIiwiY2FsY3VsYXRlL2NhbGN1bGF0ZVR3by5qcyIsImhlbHBlcnMvanMxLmpzIiwiaGVscGVycy9qczIuanMiLCJoZWxwZXJzL3N3aXBlci5qcyIsImhlbHBlcnMvdGFicy90YWJzLmpzIl0sIm5hbWVzIjpbInBsdXMiLCJudW0xIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwicGFyc2VJbnQiLCJudW0yIiwiaW5uZXJIVE1MIiwicmVzdWx0IiwiZGl2aXNpb24iLCJpbnB1dCIsInF1ZXJ5U2VsZWN0b3IiLCJVbkNhbGMiLCJvcGVuQ2FsYyIsInR5cGUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ0ZXh0Q29udGVudCIsImNsZWFuIiwibnVtIiwiYmFjayIsImV4cCIsInN1YnN0cmluZyIsImxlbmd0aCIsImVxdWFsIiwidG1wIiwiaW5jbHVkZXMiLCJzcGxpdCIsInBvdyIsInBvd2VyIiwiZXZhbCIsIk1hdGgiLCJwZXJjZW50IiwiY29uc3RhbnQiLCJuYW1lIiwiUEkiLCJ0b0ZpeGVkIiwiRSIsIm9wZXJhdGlvbiIsInNxcnQiLCJmYWN0b3JpYWwiLCJuIiwiZmFjdCIsImxvZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJmIiwicGFyc2VGbG9hdCIsInNpbiIsInRvU3RyaW5nIiwiY29zIiwidGFuIiwiaW5zZXJ0IiwidGhpcyIsIm51bWJlcnNCdXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsIm9wZXJhdGlvbkJ1dHRvbnMiLCJlcXVhbHNCdXR0b24iLCJkZWxldGVCdXR0b24iLCJhbGxDbGVhckJ1dHRvbiIsInByZXZPcGVyYW5kdGV4dCIsIkNhbGN1bGF0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJjdXJyT3BlcmFuZHRleHQiLCJjdXJyZW50T3BlcmFuZCIsInByZXZpb3VzT3BlcmFuZCIsInNsaWNlIiwibnVtYmVyIiwidW5kZWZpbmVkIiwiY29tcHV0ZSIsImNvbXB1dGF0aW9uIiwicHJldiIsImN1cnJlbnQiLCJpc05hTiIsImludGVnZXJEaWdpdHMiLCJzdHJpbmdOdW1iZXIiLCJkZWNpbWFsRGlnaXRzIiwiaW50ZWdlckRpc3BsYXkiLCJ0b0xvY2FsZVN0cmluZyIsImNvbmNhdCIsImlubmVyVGV4dCIsImdldERpc3BsYXlOdW1iZXIiLCJjYWxjdWxhdG9yIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwiYnV0dG9uIiwiYXBwZW5kIiwidXBkYXRlRGlzcGxheSIsImNob2lzZSIsImNsZWFyIiwiZnVuMSIsImNvbnNvbGUiLCJmdW4zIiwiJCIsInJlYWR5IiwiYXR0ciIsImNvbnRlbnQiLCJpZCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJjbGljayJdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxTQUFTQSxPQUNQLElBQ0FDLEVBQU9DLFNBQVNDLGVBQWUsTUFBTUMsTUFDckNILEVBQU9JLFNBQVNKLEdBQ2hCSyxFQUFPSixTQUFTQyxlQUFlLE1BQU1DLE1BS3JDRixJQUFBQSxFQUFTQyxHQUpURyxFQUFPRCxTQUFTQyxJQUloQkosU0FBU0MsZUFBZSxPQUFPSSxVQUFZQyxFQUszQ1AsU0FBT0MsWUFDUEQsSUFDQUssRUFBT0osU0FBU0MsZUFBZSxNQUFNQyxNQUNyQ0UsRUFBT0QsU0FBU0MsR0FFaEJBLEVBQUlFLFNBQVNQLGVBQWIsTUFBQUcsTUFBQSxJQUFJSSxFQUFTUCxHQUViQyxFQUFBQSxTQUFTQyxJQUtURCxTQUFBQyxlQUFBLE9BQUFJLFVBQUFDLEVBSUFGLFNBQU9ELFdBRVAsSUFFQUgsRUFBQUEsU0FBU0MsZUFBc0JJLE1BQUFBLE1BQ2hDTixFQUFBSSxTQUFBSixHQU5DSyxFQUFPSixTQUFTQyxlQUFlLE1BQU1DLE1BVXJDSCxJQUFJTyxFQUFHTixHQUZUSSxFQUFTRyxTQUFUSCxJQUlFQSxTQUFPSixlQUFTQyxPQUFlSSxVQUEvQkMsRUFLQU4sU0FBQUEsV0FDRCxJQVJDRCxFQUFPQyxTQUFTQyxl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RUFBQUgsRUFBQSxnQ0FBQUksRUFBQSxNQUlFSixFQUFFLCtCQUErQkssWUFBWSxVQUM3Q0wsRUFBRXZDLE1BQU02QyxTQUFTLFVBRWpCTixFQUFFLDZCQUE2QkssWUFBWSxVQUMzQ0YsRUFBUUcsU0FBUyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCJcbiIsImZ1bmN0aW9uIHBsdXMoKSB7XG4gIGxldCBudW0xLCBudW0yO1xuICBudW0xID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ24xJykudmFsdWU7XG4gIG51bTEgPSBwYXJzZUludChudW0xKTtcbiAgbnVtMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduMicpLnZhbHVlO1xuICBudW0yID0gcGFyc2VJbnQobnVtMik7XG5cbiAgbGV0IHJlc3VsdCA9IG51bTEgKyBudW0yO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdXQnKS5pbm5lckhUTUwgPSByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHN1YnN0cmFjdCgpIHtcbiAgbGV0IG51bTEsIG51bTI7XG4gIG51bTEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbjEnKS52YWx1ZTtcbiAgbnVtMSA9IHBhcnNlSW50KG51bTEpO1xuICBudW0yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ24yJykudmFsdWU7XG4gIG51bTIgPSBwYXJzZUludChudW0yKTtcblxuICBsZXQgcmVzdWx0ID0gbnVtMSAtIG51bTI7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ291dCcpLmlubmVySFRNTCA9IHJlc3VsdDtcbn1cblxuXG5mdW5jdGlvbiBtdWx0aXBseSgpIHtcbiAgbGV0IG51bTEsIG51bTI7XG4gIG51bTEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbjEnKS52YWx1ZTtcbiAgbnVtMSA9IHBhcnNlSW50KG51bTEpO1xuICBudW0yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ24yJykudmFsdWU7XG4gIG51bTIgPSBwYXJzZUludChudW0yKTtcblxuICBsZXQgcmVzdWx0ID0gbnVtMSAqIG51bTI7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ291dCcpLmlubmVySFRNTCA9IHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZGl2aXNpb24oKSB7XG4gIGxldCBudW0xLCBudW0yO1xuICBudW0xID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ24xJykudmFsdWU7XG4gIG51bTEgPSBwYXJzZUludChudW0xKTtcbiAgbnVtMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduMicpLnZhbHVlO1xuICBudW0yID0gcGFyc2VJbnQobnVtMik7XG5cbiAgbGV0IHJlc3VsdCA9IG51bTEgLyBudW0yO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdXQnKS5pbm5lckhUTUwgPSByZXN1bHQ7XG59XG4iLCJjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dCcpO1xuY29uc3QgVW5DYWxjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVwc3RhbmRhcnQtY2FsYycpO1xuY29uc3Qgb3BlbkNhbGMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3BlbicpO1xuXG5sZXQgcG93ZXIgPSBcIlwiO1xuXG5jb25zdCB0eXBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnR5cGUnKTtcblxuXG5vcGVuQ2FsYy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycgLCBmdW5jdGlvbigpe1xuICBVbkNhbGMuY2xhc3NMaXN0LnRvZ2dsZShcImpzLXVwY2FsYy1hY3RpdmVcIik7XG59KVxuXG5mdW5jdGlvbiBpbnNlcnQobnVtKSB7XG4gIGlmKGlucHV0LnRleHRDb250ZW50ID09IDApIHtcbiAgICBpbnB1dC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgaW5wdXQudGV4dENvbnRlbnQgKz0gbnVtO1xuICB9IGVsc2VcbiAgICAgIGlucHV0LnRleHRDb250ZW50ICs9IG51bTtcbn1cblxuZnVuY3Rpb24gY2xlYW4oKSB7XG4gIGlucHV0LnRleHRDb250ZW50ID0gXCIwXCI7XG4gIHBvd2VyID0gXCJcIlxufVxuXG5mdW5jdGlvbiBiYWNrKCkge1xuICBsZXQgZXhwID0gaW5wdXQudGV4dENvbnRlbnQ7XG4gIGlucHV0LnRleHRDb250ZW50ID0gZXhwLnN1YnN0cmluZygwLCBleHAubGVuZ3RoIC0gMSk7XG4gIGlmKGlucHV0LnRleHRDb250ZW50ID09IDApIHtcbiAgICBpbnB1dC50ZXh0Q29udGVudCA9IFwiMFwiO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVxdWFsKCkge1xuICBsZXQgZXhwID0gaW5wdXQudGV4dENvbnRlbnQ7XG4gIGlmIChpbnB1dC50ZXh0Q29udGVudC5pbmNsdWRlcygnXicpKSB7XG4gICAgbGV0IHRtcCA9IGlucHV0LnRleHRDb250ZW50LnNwbGl0KCdeJyk7XG4gICAgbGV0IG51bSA9IGV2YWwocG93ZXIpO1xuICAgIGxldCBwb3cgPSArdG1wWzFdO1xuICAgIGlucHV0LnRleHRDb250ZW50ID0gTWF0aC5wb3cobnVtLHBvdyk7XG4gICAgcG93ZXIgPSBcIlwiO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChleHApIHtcbiAgICBpbnB1dC50ZXh0Q29udGVudCA9IGV2YWwoZXhwKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwZXJjZW50KCkge1xuICBpbnB1dC50ZXh0Q29udGVudCA9IGV2YWwoaW5wdXQudGV4dENvbnRlbnQpLzEwMDtcbn1cblxuZnVuY3Rpb24gY29uc3RhbnQobmFtZSkge1xuICBpZihpbnB1dC50ZXh0Q29udGVudCA9PSAwKSB7XG4gICAgaW5wdXQudGV4dENvbnRlbnQgPSBcIjBcIjtcbiAgfVxuXG4gIGlmKG5hbWUgPT0gXCJwaVwiKSB7XG4gICAgaW5wdXQudGV4dENvbnRlbnQgKz0gIE1hdGguUEkudG9GaXhlZCg4KTtcbiAgfVxuXG4gIGlmKG5hbWUgPT0gXCJlXCIpIHtcbiAgICBpbnB1dC50ZXh0Q29udGVudCArPSBNYXRoLkUudG9GaXhlZCg4KTtcbiAgfVxuIH1cblxuIGZ1bmN0aW9uIG9wZXJhdGlvbihuYW1lKSB7XG4gIGlmKG5hbWUgPT0gXCJzcXJ0XCIpe1xuICAgIGlucHV0LnRleHRDb250ZW50ID0gTWF0aC5zcXJ0KGV2YWwoaW5wdXQudGV4dENvbnRlbnQpKTtcbiAgfVxuXG4gIGlmKG5hbWUgPT0gXCJwb3ctMlwiKXtcbiAgICBpbnB1dC50ZXh0Q29udGVudCA9IE1hdGgucG93KGV2YWwoaW5wdXQudGV4dENvbnRlbnQpLCAyKTtcbiAgfVxuXG4gIGlmKG5hbWUgPT0gXCJwb3ctMVwiKXtcbiAgICBpbnB1dC50ZXh0Q29udGVudCA9IE1hdGgucG93KGV2YWwoaW5wdXQudGV4dENvbnRlbnQpLCAtMSk7XG4gIH1cblxuICBpZihuYW1lID09IFwiXlwiKSB7XG4gICAgcG93ZXIgPSBpbnB1dC50ZXh0Q29udGVudDtcbiAgICBpbnB1dC50ZXh0Q29udGVudCArPSBcIl5cIjtcbiAgfVxufVxuXG5mdW5jdGlvbiBmYWN0b3JpYWwobikge1xuICByZXR1cm4gKG4gIT0gMSkgPyBuICogZmFjdG9yaWFsKG4gLSAxKSA6IDE7XG59XG5cblxuZnVuY3Rpb24gZmFjdCgpIHtcbiAgaW5wdXQudGV4dENvbnRlbnQgPSBmYWN0b3JpYWwoK2V2YWwoaW5wdXQudGV4dENvbnRlbnQpKTtcbn1cblxuZnVuY3Rpb24gbG9nKG5hbWUpIHtcbiAgaWYobmFtZSA9PSBcImxnXCIpIHtcbiAgICBpbnB1dC50ZXh0Q29udGVudCA9ICBNYXRoLmxvZzEwKGV2YWwoaW5wdXQudGV4dENvbnRlbnQpKS50b0ZpeGVkKDgpO1xuICB9XG5cbiAgaWYobmFtZSA9PSBcImxuXCIpIHtcbiAgICBpbnB1dC50ZXh0Q29udGVudCA9ICBNYXRoLmxvZyhldmFsKGlucHV0LnRleHRDb250ZW50KSkudG9GaXhlZCg4KTtcbiAgfVxufVxuXG50eXBlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gIGlmICh0eXBlLnRleHRDb250ZW50ID09IFwiZGVnXCIpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gXCJyYWRcIjtcbiAgfSBlbHNlIGlmICh0eXBlLnRleHRDb250ZW50ID09IFwicmFkXCIpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gXCJkZWdcIjtcbiAgfVxufSlcblxuZnVuY3Rpb24gZihuYW1lKSB7XG4gIGlmKG5hbWUgPT0gJ3Npbicpe1xuICAgIGlmKHR5cGUudGV4dENvbnRlbnQgPT0gXCJkZWdcIikge1xuICAgICAgaW5wdXQudGV4dENvbnRlbnQgPSAgcGFyc2VGbG9hdChNYXRoLnNpbihldmFsKGlucHV0LnRleHRDb250ZW50KSAvIDE4MCAqIE1hdGguUEkpLnRvRml4ZWQoOCkudG9TdHJpbmcoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0LnRleHRDb250ZW50ID0gcGFyc2VGbG9hdChNYXRoLnNpbihldmFsKGlucHV0LnRleHRDb250ZW50KSkudG9GaXhlZCg4KS50b1N0cmluZygpKTtcbiAgICB9XG4gIH1cblxuICBpZihuYW1lID09ICdjb3MnKSB7XG4gICAgaWYodHlwZS50ZXh0Q29udGVudCA9PSBcImRlZ1wiKSB7XG4gICAgICBpbnB1dC50ZXh0Q29udGVudCA9ICBwYXJzZUZsb2F0KE1hdGguY29zKGV2YWwoaW5wdXQudGV4dENvbnRlbnQpIC8gMTgwICogTWF0aC5QSSkudG9GaXhlZCg4KS50b1N0cmluZygpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXQudGV4dENvbnRlbnQgPSBwYXJzZUZsb2F0KE1hdGguY29zKGV2YWwoaW5wdXQudGV4dENvbnRlbnQpKS50b0ZpeGVkKDgpLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfVxuXG4gIGlmKG5hbWUgPT0gJ3RhbicpIHtcbiAgICBpZih0eXBlLnRleHRDb250ZW50ID09IFwiZGVnXCIpIHtcbiAgICAgIGlucHV0LnRleHRDb250ZW50ID0gIHBhcnNlRmxvYXQoTWF0aC50YW4oZXZhbChpbnB1dC50ZXh0Q29udGVudCkgLyAxODAgKiBNYXRoLlBJKS50b0ZpeGVkKDgpLnRvU3RyaW5nKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dC50ZXh0Q29udGVudCA9IHBhcnNlRmxvYXQoTWF0aC50YW4oZXZhbChpbnB1dC50ZXh0Q29udGVudCkpLnRvRml4ZWQoOCkudG9TdHJpbmcoKSk7XG4gICAgfVxuICB9XG4gIGlmKG5hbWUgPT0gJ2N0ZycpIHtcbiAgICBpZih0eXBlLnRleHRDb250ZW50ID09IFwiZGVnXCIpIHtcbiAgICAgIGlucHV0LnRleHRDb250ZW50ID0gIHBhcnNlRmxvYXQoMS9NYXRoLnRhbihldmFsKGlucHV0LnRleHRDb250ZW50KSAvIDE4MCAqIE1hdGguUEkpLnRvRml4ZWQoOCkudG9TdHJpbmcoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0LnRleHRDb250ZW50ID0gcGFyc2VGbG9hdCgxL01hdGgudGFuKGV2YWwoaW5wdXQudGV4dENvbnRlbnQpKS50b0ZpeGVkKDgpLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfVxufVxuIiwiY29uc3QgbnVtYmVyc0J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1udW1iZXJdJylcbmNvbnN0IG9wZXJhdGlvbkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1vcGVyYXRpb25dJylcbmNvbnN0IGVxdWFsc0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWVxdWFsc10nKVxuY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZGVsZXRlXScpXG5jb25zdCBhbGxDbGVhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFsbC1jbGVhcl0nKVxuY29uc3QgcHJldk9wZXJhbmR0ZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJldmlvdXMtb3BlcmFuZCcpXG5jb25zdCBjdXJyT3BlcmFuZHRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jdXJyZW50LW9wZXJhbmRdJylcblxuY2xhc3MgQ2FsY3VsYXRvciB7XG4gIGNvbnN0cnVjdG9yKHByZXZPcGVyYW5kdGV4dCwgY3Vyck9wZXJhbmR0ZXh0KSB7XG4gICAgdGhpcy5wcmV2T3BlcmFuZHRleHQgPSBwcmV2T3BlcmFuZHRleHRcbiAgICB0aGlzLmN1cnJPcGVyYW5kdGV4dCA9IGN1cnJPcGVyYW5kdGV4dFxuICAgIHRoaXMuY2xlYXIoKVxuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgdGhpcy5jdXJyZW50T3BlcmFuZCA9ICcnXG4gICAgdGhpcy5wcmV2aW91c09wZXJhbmQgPSAnJ1xuICAgIHRoaXMub3BlcmF0aW9uID0gdW5kZWZpbmVkXG4gIH1cblxuICBkZWxldGUoKSB7XG4gICAgdGhpcy5jdXJyZW50T3BlcmFuZCA9IHRoaXMuY3VycmVudE9wZXJhbmQudG9TdHJpbmcoKS5zbGljZSgwLCAtMSlcbiAgfVxuXG4gIGFwcGVuZChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyID09PSAnLicgJiYgdGhpcy5jdXJyZW50T3BlcmFuZC5pbmNsdWRlcygnLicpKVxuICAgIHJldHVyblxuICAgIHRoaXMuY3VycmVudE9wZXJhbmQgPSB0aGlzLmN1cnJlbnRPcGVyYW5kLnRvU3RyaW5nKCkgKyBudW1iZXIudG9TdHJpbmcoKVxuICB9XG5cbiAgY2hvaXNlKG9wZXJhdGlvbikge1xuICAgIGlmICh0aGlzLmN1cnJlbnRPcGVyYW5kID09PSAnJykgcmV0dXJuXG4gICAgaWYgKHRoaXMucHJldmlvdXNPcGVyYW5kICE9PSAnJykge1xuICAgICAgdGhpcy5jb21wdXRlKClcbiAgICB9XG4gICAgdGhpcy5vcGVyYXRpb24gPSBvcGVyYXRpb25cbiAgICB0aGlzLnByZXZpb3VzT3BlcmFuZCA9IHRoaXMuY3VycmVudE9wZXJhbmRcbiAgICB0aGlzLmN1cnJlbnRPcGVyYW5kID0gJydcbiAgfVxuXG4gIGNvbXB1dGUoKSB7XG4gICAgbGV0IGNvbXB1dGF0aW9uXG4gICAgY29uc3QgcHJldiA9IHBhcnNlRmxvYXQodGhpcy5wcmV2aW91c09wZXJhbmQpXG4gICAgY29uc3QgY3VycmVudCA9IHBhcnNlRmxvYXQodGhpcy5jdXJyZW50T3BlcmFuZClcbiAgICBpZiAoaXNOYU4ocHJldikgfHwgaXNOYU4oY3VycmVudCkpIHJldHVyblxuICAgIHN3aXRjaCAodGhpcy5vcGVyYXRpb24pIHtcbiAgICAgIGNhc2UgJysnOlxuICAgICAgICBjb21wdXRhdGlvbiA9IHByZXYgKyBjdXJyZW50XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICctJzpcbiAgICAgICAgY29tcHV0YXRpb24gPSBwcmV2IC0gY3VycmVudFxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnKic6XG4gICAgICAgIGNvbXB1dGF0aW9uID0gcHJldiAqIGN1cnJlbnRcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJy8nOlxuICAgICAgICBjb21wdXRhdGlvbiA9IHByZXYgLyBjdXJyZW50XG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5jdXJyZW50T3BlcmFuZCA9IGNvbXB1dGF0aW9uXG4gICAgdGhpcy5vcGVyYXRpb24gPSB1bmRlZmluZWRcbiAgICB0aGlzLnByZXZpb3VzT3BlcmFuZCA9ICcnXG4gIH1cblxuICBnZXREaXNwbGF5TnVtYmVyKG51bWJlcikge1xuICAgIGNvbnN0IHN0cmluZ051bWJlciA9IG51bWJlci50b1N0cmluZygpXG4gICAgY29uc3QgaW50ZWdlckRpZ2l0cyA9IHBhcnNlRmxvYXQoc3RyaW5nTnVtYmVyLnNwbGl0KCcuJylbMF0pXG4gICAgY29uc3QgZGVjaW1hbERpZ2l0cyA9IHN0cmluZ051bWJlci5zcGxpdCgnLicpWzFdXG4gICAgbGV0IGludGVnZXJEaXNwbGF5XG4gICAgaWYgKGlzTmFOKGludGVnZXJEaWdpdHMpKSB7XG4gICAgICBpbnRlZ2VyRGlzcGxheSA9ICcnXG4gICAgfSBlbHNlIHtcbiAgICAgIGludGVnZXJEaXNwbGF5ID0gaW50ZWdlckRpZ2l0cy50b0xvY2FsZVN0cmluZygnZW4nLCB7XG4gICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMH0pXG4gICAgICB9XG4gICAgaWYgKGRlY2ltYWxEaWdpdHMgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGAke2ludGVnZXJEaXNwbGF5fS4ke2RlY2ltYWxEaWdpdHN9YFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW50ZWdlckRpc3BsYXlcbiAgICB9XG4gIH1cblxuICB1cGRhdGVEaXNwbGF5KCkge1xuICAgIHRoaXMuY3Vyck9wZXJhbmR0ZXh0LmlubmVyVGV4dCA9XG4gICAgIHRoaXMuZ2V0RGlzcGxheU51bWJlcih0aGlzLmN1cnJlbnRPcGVyYW5kKVxuICAgIGlmICh0aGlzLm9wZXJhdGlvbiAhPSBudWxsKSB7XG4gICAgICB0aGlzLnByZXZPcGVyYW5kdGV4dC5pbm5lclRleHQgPVxuICAgICAgICBgJHt0aGlzLmdldERpc3BsYXlOdW1iZXIodGhpcy5wcmV2aW91c09wZXJhbmQpfSAke3RoaXMub3BlcmF0aW9ufWBcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmV2T3BlcmFuZHRleHQuaW5uZXJUZXh0ID0gJydcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgY2FsY3VsYXRvciA9IG5ldyBDYWxjdWxhdG9yKHByZXZPcGVyYW5kdGV4dCwgY3Vyck9wZXJhbmR0ZXh0KVxuXG5udW1iZXJzQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjYWxjdWxhdG9yLmFwcGVuZChidXR0b24uaW5uZXJUZXh0KVxuICAgIGNhbGN1bGF0b3IudXBkYXRlRGlzcGxheSgpXG4gIH0pXG59KVxuXG5vcGVyYXRpb25CdXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNhbGN1bGF0b3IuY2hvaXNlKGJ1dHRvbi5pbm5lclRleHQpXG4gICAgY2FsY3VsYXRvci51cGRhdGVEaXNwbGF5KClcbiAgfSlcbn0pXG5cbmVxdWFsc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGJ1dHRvbiA9PiB7XG4gIGNhbGN1bGF0b3IuY29tcHV0ZSgpXG4gIGNhbGN1bGF0b3IudXBkYXRlRGlzcGxheSgpXG59KVxuXG5hbGxDbGVhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGJ1dHRvbiA9PiB7XG4gIGNhbGN1bGF0b3IuY2xlYXIoKVxuICBjYWxjdWxhdG9yLnVwZGF0ZURpc3BsYXkoKVxufSlcblxuZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYnV0dG9uID0+IHtcbiAgY2FsY3VsYXRvci5kZWxldGUoKVxuICBjYWxjdWxhdG9yLnVwZGF0ZURpc3BsYXkoKVxufSlcbiIsImZ1bmN0aW9uIGZ1bjEoKSB7XG4gIGNvbnNvbGUubG9nKDEpO1xufVxuIiwiZnVuY3Rpb24gZnVuMygpIHtcbiAgY29uc29sZS5sb2coNCk7XG59XG4iLCIiLCIvLyB0YWJzXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXG4gICQoJy5qcy10YWJzLWhlYWRlcicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignZGF0YS10YWInKSxcbiAgICAgICAgY29udGVudCA9ICQoJy5qcy10YWJzLWJvZHlbZGF0YS10YWI9XCInKyBpZCArJ1wiXScpO1xuXG4gICAgJCgnLmpzLXRhYnMtaGVhZGVyLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICQoJy5qcy10YWJzLWJvZHkuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGNvbnRlbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICB9KTtcblxuICAvLyB0YWJzLWNhbGNcblxuICAkKCcuanMtdGFicy1jYWxjLWhlYWRlcicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgIHZhciBpZCA9ICQodGhpcykuYXR0cignZGF0YS10YWInKSxcbiAgICAgICAgY29udGVudCA9ICQoJy5qcy10YWJzLWNhbGMtYm9keVtkYXRhLXRhYj1cIicrIGlkICsnXCJdJyk7XG5cbiAgICAkKCcuanMtdGFicy1jYWxjLWhlYWRlci5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAkKCcuanMtdGFicy1jYWxjLWJvZHkuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGNvbnRlbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICB9KTtcblxufSk7XG5cblxuXG4iXX0=
